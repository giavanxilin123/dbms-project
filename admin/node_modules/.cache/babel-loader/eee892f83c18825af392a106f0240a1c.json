{"remainingRequest":"/Users/admin/Desktop/express-api/admin/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/express-api/admin/node_modules/eslint-loader/index.js??ref--14-0!/Users/admin/Desktop/express-api/admin/src/store/action.js","dependencies":[{"path":"/Users/admin/Desktop/express-api/admin/src/store/action.js","mtime":1635521364657},{"path":"/Users/admin/Desktop/express-api/admin/babel.config.js","mtime":1635516734298},{"path":"/Users/admin/Desktop/express-api/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/express-api/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/express-api/admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCB2YXIgQkFTRV9VUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwIjsKdmFyIGNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogQkFTRV9VUkwsCiAgdGltZW91dDogMTAwMDAsCiAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZQp9KTsKCmZ1bmN0aW9uIGdldERlZmF1bHRIZWFkZXIoKSB7CiAgcmV0dXJuIHsKICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJykpCiAgfTsKfQoKY2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgT2JqZWN0LmFzc2lnbihjb25maWcuaGVhZGVycywgZ2V0RGVmYXVsdEhlYWRlcigpKTsKICByZXR1cm4gY29uZmlnOwp9KTsKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIGZldGNoVXNlcjogZnVuY3Rpb24gZmV0Y2hVc2VyKGN0eCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgY2xpZW50LmdldCgiIi5jb25jYXQoQkFTRV9VUkwsICIvdXNlciIpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGN0eC5jb21taXQoJ0ZFVENIX1VTRVInLCByZXMuZGF0YSk7CiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/admin/Desktop/express-api/admin/src/store/action.js"],"names":["axios","BASE_URL","client","create","baseURL","timeout","withCredentials","getDefaultHeader","Authorization","JSON","parse","localStorage","getItem","interceptors","request","use","config","Object","assign","headers","actions","fetchUser","ctx","Promise","resolve","reject","get","then","res","console","log","commit","data","catch","err"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,IAAMC,QAAQ,GAAG,uBAAjB;AAEP,IAAMC,MAAM,GAAGF,KAAK,CAACG,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAEH,QADe;AAExBI,EAAAA,OAAO,EAAE,KAFe;AAGxBC,EAAAA,eAAe,EAAE;AAHO,CAAb,CAAf;;AAMA,SAASC,gBAAT,GAA4B;AACxB,SAAO;AACHC,IAAAA,aAAa,EAAE,YAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX;AADxB,GAAP;AAGH;;AAEDV,MAAM,CAACW,YAAP,CAAoBC,OAApB,CAA4BC,GAA5B,CAAgC,UAACC,MAAD,EAAY;AACxCC,EAAAA,MAAM,CAACC,MAAP,CAAcF,MAAM,CAACG,OAArB,EAA8BZ,gBAAgB,EAA9C;AACA,SAAOS,MAAP;AACH,CAHD;AAKA,OAAO,IAAMI,OAAO,GAAG;AACrBC,EAAAA,SADqB,qBACXC,GADW,EACN;AACb,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCvB,MAAAA,MAAM,CACHwB,GADH,WACUzB,QADV,YAEG0B,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAN,QAAAA,GAAG,CAACS,MAAJ,CAAW,YAAX,EAAyBH,GAAG,CAACI,IAA7B;AACAR,QAAAA,OAAO,CAACI,GAAD,CAAP;AACD,OANH,EAOGK,KAPH,CAOS,UAAAC,GAAG,EAAI;AACZT,QAAAA,MAAM,CAACS,GAAD,CAAN;AACD,OATH;AAUD,KAXM,CAAP;AAYD;AAdoB,CAAhB","sourcesContent":["import axios from 'axios';\nexport const BASE_URL = \"http://localhost:3000\";\n\nconst client = axios.create({\n    baseURL: BASE_URL,\n    timeout: 10000,\n    withCredentials: false\n});\n\nfunction getDefaultHeader() {\n    return {\n        Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('accessToken')),\n    }\n}\n\nclient.interceptors.request.use((config) => {\n    Object.assign(config.headers, getDefaultHeader());\n    return config;\n});\n\nexport const actions = {\n  fetchUser(ctx) {\n    return new Promise((resolve, reject) => {\n      client\n        .get(`${BASE_URL}/user`)\n        .then(res => {\n          console.log(res)\n          ctx.commit('FETCH_USER', res.data);\n          resolve(res);\n        })\n        .catch(err => {\n          reject(err);\n        })\n    })\n  }\n}"]}]}